{"title":"Data preparation","markdown":{"headingText":"Data preparation","containsRefs":false,"markdown":"This week we will be mapping crime hotspots in the London boroughs of [Camden](https://www.google.com/maps/place/London+Borough+of+Camden,+London/@51.5428102,-0.1944449,13z/data=!3m1!4b1!4m5!3m4!1s0x48761aec186b9a3d:0x41185c626be66e0!8m2!3d51.5454736!4d-0.1627902?hl=en) and [Islington](https://www.google.com/maps/place/London+Borough+of+Islington,+London/@51.5470193,-0.1444663,13z/data=!3m1!4b1!4m5!3m4!1s0x48761b5dedeb3be5:0x54f085cb18ec65c9!8m2!3d51.5465063!4d-0.1058058?hl=en). The data we will be working with for this week's task are downloaded from the [data.police.uk](https://data.police.uk/) website. \n\n::: {.callout-warning}\nYou are expected to work through the computer tutorial individually and at your own pace, but you will submit this week's worksheet as a **group**.\n:::\n\n## Getting started\nSome of you may already have played around with some GIS software such as [ArcGIS](https://www.arcgis.com/index.html) or at very least have been introduced to [ArcGIS Online](https://www.arcgis.com/index.html) in Geography in the Field I, but today we will be using the open-source GIS software suite [QGIS](https://www.qgis.org/en/site/). \n\n::: {.callout-tip}\nQGIS is an open-source graphic user interface GIS with many community developed add-on packages that provide additional functionality to the software. A copy of [QGIS](https://www.qgis.org/en/site/) can be accessed through the UCL Application Store on all cluster room computers as well as on [Desktop@UCL Anywhere](https://www.ucl.ac.uk/isd/services/computers/remote-access/desktopucl-anywhere).\n:::\n\nLet us get started by opening an internet browser such as [Google Chrome](https://www.google.co.uk/chrome/?brand=FHFK&gclid=Cj0KCQiAip-PBhDVARIsAPP2xc26lB3ONziz2KnCd7Ac1MVjTx66n0Ull4R8oiQqzXzgKnJSqRCwK60aAhmFEALw_wcB&gclsrc=aw.ds) or [Microsoft Edge](https://www.microsoft.com/en-us/edge). Navigate to: [https://ucldesktop.cloud.com](https://ucldesktop.cloud.com).\n\n```{r} \n#| label: fig-ucl-desktop-login\n#| fig.cap: \"[Desktop@UCL Anywhere](https://ucldesktop.cloud.com) login interface. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/ucl_login.png){target='_blank'}\"\n#| echo: FALSE\nknitr::include_graphics('images/ucl_login.png')\n```\n\nYou can log in with your normal **UCL username** and **UCL password**. After this, you click on the Desktop\\@UCL Anywhere icon to start the service:\n\n```{r}\n#| label: fig-ucl-desktop-start\n#| fig.cap: \"Starting [Desktop@UCL Anywhere](https://ucldesktop.cloud.com). [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/ucl_start.png){target='_blank'}\"\n#| echo: FALSE\nknitr::include_graphics('images/ucl_start.png')\n```\n\nIt may take a few minutes to load, but after this you should see your normal UCL Windows desktop:\n\n```{r} \n#| label: fig-ucl-desktop-login-success\n#| fig.cap: \"Your [Desktop@UCL Anywhere](https://ucldesktop.cloud.com). [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/ucl_login_success.png){target='_blank'}\"\n#| echo: FALSE\nknitr::include_graphics('images/ucl_login_success.png')\n```\n\n## Crime data\nFor our crime data, we will use data directly from the Police Data Portal, which you can find at [data.police.uk](https://data.police.uk/). This Data Portal allows you to access and generate tabular data for crime recorded in the UK across the different police forces. \n\n::: {.callout-note}\nThere are a total of 45 territorial police forces (TPFs) and 3 special police forces (SPFs) in the UK. Each TPF covers a specific geographic area, such as the West Midlands Police, while SPFs have cross-jurisdictional authority and focus on specific types of crime, like the British Transport Police. Therefore, when downloading data for a particular area, it is important to identify which police force is responsible for that region.\n:::\n\nWhen you look to download crime data for London, for example, there are two territorial police forces working within the city and its greater metropolitan area:\n\n- [The Metropolitan Police](https://www.met.police.uk/), which covers nearly the entire Greater London area.\n- [The City of London Police](https://www.cityoflondon.police.uk/), which covers the City of London. \n\nToday we will leave the City of London for what it is because we will look at crime hotspots in the London boroughs of [Camden](https://www.google.com/maps/place/London+Borough+of+Camden,+London/@51.5428102,-0.1944449,13z/data=!3m1!4b1!4m5!3m4!1s0x48761aec186b9a3d:0x41185c626be66e0!8m2!3d51.5454736!4d-0.1627902?hl=en) and [Islington](https://www.google.com/maps/place/London+Borough+of+Islington,+London/@51.5470193,-0.1444663,13z/data=!3m1!4b1!4m5!3m4!1s0x48761b5dedeb3be5:0x54f085cb18ec65c9!8m2!3d51.5465063!4d-0.1058058?hl=en). To download the data we will need, open Google Chrome (**within** your Desktop@UCL environment) and navigate to [data.police.uk](https://data.police.uk/). \n\n::: {.callout-tip}\nYou can use any browser to download files, but note that the specific steps might vary slightly depending on the browser you choose.\n:::\n\n```{r}\n#| label: fig-data-police\n#| fig.cap: \"The landing page of [data.police.uk](https://data.police.uk). [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/data_police.png){target='_blank'}\"\n#| echo: false\nknitr::include_graphics('images/data_police.png')\n```\n\nClick on **Downloads** and subsequently select *November 2023* to *November 2023* as data range and tick the box for the *Metropolitan Police Service*. With this selection we can download all crime data recorded by the Metropolitan Police Services for the month of November 2023\n\n```{r}\n#| label: fig-data-police-select\n#| fig.cap: \"Select the data that we want to download. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/select_data.png){target='_blank'}\"\n#| echo: false\nknitr::include_graphics('images/select_data.png')\n```\n\nMake sure that the box in front of **Include crime data** is ticked and proceed to click on **Generate file**. Once your file is generated you can click on **Download now**.\n\n```{r}\n#| label: fig-data-police-download\n#| fig.cap: \"Donwload the data. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/download_now.png){target='_blank'}\"\n#| echo: false\nknitr::include_graphics('images/download_now.png')\n```\n\nSave the file as `crime_met_november2023` in your `Downloads` folder.\n\n```{r}\n#| label: fig-data-police-save\n#| fig-cap: \"Save the data. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/save_now.png){target='_blank'}\"\n#| echo: false\nknitr::include_graphics('images/save_now.png')\n```\n\nYour download should complete within seconds. Once it is finished, navigate to your `Downloads`, right click on the `crime_met_november2023.zip` folder, and select **Extract All**.  This will unpack the compressed data, making it ready for use in QGIS later.\n\n```{r}\n#| label: fig-data-police-unzip\n#| fig.cap: \"Unzip the data. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/extract_zip.png){target=_blank'}\"\n#| echo: false\nknitr::include_graphics('images/extract_zip.png')\n```\n\n## Reference data\nNow we have downloaded the crime data, we need to download some background and reference data. Two data sets are available on Moodle: the boundaries of the boroughs in London as well as the London road network. \n\nWithin your UCL Desktop environment, navigate to the Geography in the Field II Moodle page and scroll down to **Week 8: Mapping London**.\n\n```{r} \n#| label: fig-moodle-w8\n#| fig.cap: \"Geography in the Field II Moodle page. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/moodle.png){target='_blank'}\"\n#| echo: false\nknitr::include_graphics('images/moodle.png')\n```\n\nUnder the **Further resources** heading you will see two files: `Roads for mapping exercise` and `Boroughs for mapping exercise`. Right click on on the first file and click on **Save link as ...**. Give the file the name `roads` and save to your download folder.\n\n```{r}\n#| label: fig-moodle-w8-save\n#| fig.cap: \"Save link as. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/save_as.png){target='_blank'}\"\n#| echo: false\nknitr::include_graphics('images/save_as.png')\n```\n\n```{r}\n#| label: fig-moodle-w8-save-save\n#| fig.cap: \"Save file to your downloads folder. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/select_data.png){target='_blank'}\"\n#| echo: false\nknitr::include_graphics('images/save_as_save.png')\n```\n\nRight click on on the second file and click on **Save link as ...**. Give the file the name `boroughs` and save to your download folder.\n\nAfter downloading both files, go to your `Downloads` folder and make sure both are extracted. Your `Downloads` folder should look something like this:\n\n```{r}\n#| label: fig-your-downloads\n#| fig.cap: \"Your download folder should now contain three **unzipped** folders: one with the crime data, one with the borough data, and another with the road data. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/all_download.png){target='_blank'}\"\n#| echo: false\nknitr::include_graphics('images/all_download.png')\n```\n\nThe final step is to organise our downloaded data. In your `Documents` folder, create a new folder called `GEOG0014_W08`.  This will serve as our *working directory*. Now move the three **unzipped** folders containing the crime data, borough data and road data from your `Downloads` folder into the newly created `GEOG0014_W08` folder. Your *working directory* should look something like this:\n\n```{r}\n#| label: fig-wd\n#| fig.cap: \"Your working directory is now all set up. [[Enlarge image]](https://jtvandijk.github.io/GEOG0014/images/wd.png){target='_blank'}\"\n#| echo: false\nknitr::include_graphics('images/wd.png')\n```\n\n::: {.callout-tip}\nThe `roads` and `boroughs` files we downloaded are in a format called a `shapefile`, which is used by GIS software to store spatial data. Despite the name, a `shapefile` is not just a single file but a collection of related files. Each file within the `shapefile` set serves a specific function, and the GIS software requires all of them to correctly interpret and display the spatial data.\n:::\n\n::: {.callout-warning}\nWhile `shapefiles` are still widely used and many online spatial files are available in this format, they are somewhat outdated. A more modern alternative is the `GeoPackage` format, and we recommend using a `GeoPackage` whenever possible.\n:::\n\nWe now have now downloaded and oranised all the datasets we need and are ready to move on to QGIS to create some maps.\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":false,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["assets/styles.css"],"toc":true,"highlight-style":"atom-one","number-sections":true,"output-file":"01-data-prep.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","title-block-banner":false,"editor":"source","_quarto-vars":{"meta":{"title":"GEOG0014"},"slides":{"week08":"https://github.com/jtvandijk/GEOG0014/raw/master/data/w08_gif.pdf"}},"theme":{"light":"flatly","dark":"darkly"},"callout-appearance":"simple","smooth-scroll":true,"number-depth":4,"pagetitle":"{{< var meta.title >}}"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}